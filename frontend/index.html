<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
    https://cdn.jsdelivr.net
    https://cdn.jsdelivr.net/npm
    https://cdnjs.cloudflare.com
    https://unpkg.com
    https://code.jquery.com
    https://stackpath.bootstrapcdn.com
    https://cdn.datatables.net;
  
  style-src 'self' 'unsafe-inline'
    https://cdn.jsdelivr.net
    https://cdn.jsdelivr.net/npm
    https://cdnjs.cloudflare.com
    https://unpkg.com
    https://stackpath.bootstrapcdn.com
    https://cdn.datatables.net
    https://fonts.googleapis.com;
  
  font-src 'self' data: blob:
    https://cdnjs.cloudflare.com
    https://cdn.jsdelivr.net
    https://fonts.gstatic.com;
  
  img-src 'self' data: https: blob:;
  
  frame-src 'self' blob: data:;

  connect-src 'self'
    https://cdn.datatables.net
    https://nominatim.openstreetmap.org
    https://isola.cl
    http://143.198.235.129
    https://cdn.jsdelivr.net
    https://cdn.jsdelivr.net/sm
    https://unpkg.com
    https://cdnjs.cloudflare.com
    https://rest.ably.io
    https://realtime.ably.io
    https://internet-up.ably-realtime.com
    https://*.ably-realtime.com
    wss://realtime.ably.io
    wss://internet-up.ably-realtime.com
    wss://*.ably-realtime.com;
">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MOLINO CDM</title>

  <!-- Estilos locales -->
  <link rel="stylesheet" href="assets/vendors/core/core.css" />

  <!-- Plugins CSS -->
  <link rel="stylesheet" href="assets/vendors/datatables.net-bs4/dataTables.bootstrap4.css" />
  <link rel="stylesheet" href="assets/vendors/chart.js/Chart.min.css" /> <!-- Check if it exists or use bundle -->
  <link rel="stylesheet" href="assets/vendors/sweetalert2/sweetalert2.min.css" />
  <link rel="stylesheet" href="assets/fonts/feather-font/css/iconfont.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <!-- Daterangepicker -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />


  <!-- Bootstrap Toggle -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">

  <!-- Select2 (tema Bootstrap 5) -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css"
    rel="stylesheet" />

  <link rel="shortcut icon" href="assets/images/logo.png" />

  <!-- En la secci贸n <head> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.css">


</head>

<body>
  <!--  Oculto hasta validar sesi贸n -->
  <div id="app" hidden>
    <div class="main-wrapper">
      <!-- Sidebar -->
      <div data-include="components/sidebar.html"></div>

      <div class="page-wrapper">
        <!-- Header -->
        <div data-include="components/header.html"></div>

        <!-- Contenido din谩mico -->
        <div class="page-content">
          <div data-include="components/inicio.html"></div>
        </div>

        <!-- Footer -->
        <div data-include="components/footer.html"></div>
      </div>
    </div>
  </div>

  <!-- jQuery (siempre primero) -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <!-- Core -->
  <script src="assets/vendors/core/core.js"></script>
  <script src="assets/vendors/promise-polyfill/polyfill.min.js"></script>
  <script src="assets/vendors/feather-icons/feather.min.js"></script>

  <!-- Bootstrap bundle (con Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- SweetAlert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

  <!-- DataTables -->
  <script src="assets/vendors/datatables.net/jquery.dataTables.js"></script>
  <script src="assets/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>

  <!-- Chart.js (Legacy bundle for Doughnut Gauges) -->
  <script src="assets/vendors/chart.js/Chart.bundle.min.js"></script>

  <!-- Select2 JS -->
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- Turf -->
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js"></script>

  <!-- Moment + Daterangepicker -->
  <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

  <!-- Bootstrap Toggle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>

  <!-- jsPDF + XLSX + AutoTable + QRCode -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.1/dist/jspdf.plugin.autotable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <!-- Papa + Carga masiva -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <!-- JsBarcode -->
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/locales/es.global.min.js"></script>

  <!-- Manejo de Sesi贸n (Interceptor Fetch) -->
  <script src="js/session-handler.js"></script>

  <!-- Utilidades -->
  <script src="js/rutValidator.js"></script>

  <!-- Component Loader + l贸gica (ofuscados) -->
  <script src="js/include-html.js"></script>
  <script src="js/page.js"></script>
  <script src="js/load-user.js"></script>
  <script src="js/router.js"></script>

  <!-- Inicializar Select2 con tema Bootstrap 5 -->
  <script>
    $(document).ready(function () {
      $('#usuario, #zona, #tipoIncidente').select2({
        theme: 'bootstrap-5',
        placeholder: 'Selecciona...',
        allowClear: true
      });
    });
  </script>
</body>

</html>